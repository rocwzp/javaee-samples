<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="/templates/mainLayout.xhtml">

<ui:define name="body">

         <h:form >
         	<p:growl autoUpdate="true" globalOnly="true"/>
         	<p:dataList value="#{catalogController.categories}" var="category" type="none">
         		<h2>#{category.name}</h2>
         		
         		<p:dataGrid value="#{category.productsList}" var="product" columns="2"  rows="4" paginator="true"  
        					rowsPerPageTemplate="5,10,15">
         			
         			<h:panelGrid columns="1">
         				<p:graphicImage value="resources/images/book_covers/#{product.imageUrl}"
         					 width="150px" height="180px;"/>
         				<p:panel >
         					<h:panelGrid columns="2">
         						<h:outputLabel value="Title" />
         						<h:outputText value="#{product.name}" />
         						<h:outputLabel value="Description" />
         						<h:outputLabel value="#{product.description}" />
         						<h:outputLabel value="Price" />
         						<h:outputLabel value="#{product.price}" />
         						<p:commandButton value="Add To Cart" actionListener="#{cartController.addItem(product)}" 
         									update=":cartToolbar:cartCount"/>
         					</h:panelGrid>
	         				
         				</p:panel>
         			</h:panelGrid>
         		</p:dataGrid>
         		
         	</p:dataList>
         </h:form>
         
</ui:define>


</ui:composition>
